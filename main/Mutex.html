<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.36.1">
<meta name="crystal_docs.project_version" content="main">
<meta name="crystal_docs.project_name" content="fiber_metrics">



<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

  <meta name="repository-name" content="fiber_metrics">
  <title>Mutex - fiber_metrics main</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          fiber_metrics
        </a>
      </h1>

      <span class="project-version">
        main
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="fiber_metrics/Channel" data-name="channel(t)">
      <a href="Channel.html">Channel</a>
      
    </li>
  
  <li class="parent " data-id="fiber_metrics/Fiber" data-name="fiber">
      <a href="Fiber.html">Fiber</a>
      
        <ul>
  
  <li class=" " data-id="fiber_metrics/Fiber/MethodSummaryT" data-name="fiber::methodsummaryt">
      <a href="Fiber/MethodSummaryT.html">MethodSummaryT</a>
      
    </li>
  
  <li class="parent " data-id="fiber_metrics/Fiber/Metrics" data-name="fiber::metrics">
      <a href="Fiber/Metrics.html">Metrics</a>
      
        <ul>
  
  <li class=" " data-id="fiber_metrics/Fiber/Metrics/ClassMethods" data-name="fiber::metrics::classmethods">
      <a href="Fiber/Metrics/ClassMethods.html">ClassMethods</a>
      
    </li>
  
  <li class=" " data-id="fiber_metrics/Fiber/Metrics/InstanceMethods" data-name="fiber::metrics::instancemethods">
      <a href="Fiber/Metrics/InstanceMethods.html">InstanceMethods</a>
      
    </li>
  
  <li class=" " data-id="fiber_metrics/Fiber/Metrics/Measure" data-name="fiber::metrics::measure">
      <a href="Fiber/Metrics/Measure.html">Measure</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="fiber_metrics/Fiber/NameSummaryT" data-name="fiber::namesummaryt">
      <a href="Fiber/NameSummaryT.html">NameSummaryT</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="fiber_metrics/GC" data-name="gc">
      <a href="GC.html">GC</a>
      
        <ul>
  
  <li class=" " data-id="fiber_metrics/GC/TrackMallocCallback" data-name="gc::trackmalloccallback">
      <a href="GC/TrackMallocCallback.html">TrackMallocCallback</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" current" data-id="fiber_metrics/Mutex" data-name="mutex">
      <a href="Mutex.html">Mutex</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Mutex

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="Mutex.html">Mutex</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>
    <a id="overview" class="anchor" href="#overview">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Overview
  </h2>

  <p>A fiber-safe mutex.</p>

<p>Provides deadlock protection by default. Attempting to re-lock the mutex from
the same fiber will raise an exception. Trying to unlock an unlocked mutex, or
a mutex locked by another fiber will raise an exception.</p>

<p>The reentrant protection maintains a lock count. Attempting to re-lock the
mutex from the same fiber will increment the lock count. Attempting to unlock
the counter from the same fiber will decrement the lock count, eventually
releasing the lock when the lock count returns to 0. Attempting to unlock an
unlocked mutex, or a mutex locked by another fiber will raise an exception.</p>

<p>You also disable all protections with <code>unchecked</code>. Attempting to re-lock the
mutex from the same fiber will deadlock. Any fiber can unlock the mutex, even
if it wasn't previously locked.</p>














  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  
    
      <a href="https://github.com/didactic-drunk/fiber_metrics.cr/blob/4bc168f132f59718660eae1eca1cb873051fc2cc/src/fiber_metrics/mutex.cr#L3" target="_blank">
        fiber_metrics/mutex.cr
      </a>
    
    <br/>
  









  <h2>
    <a id="instance-method-summary" class="anchor" href="#instance-method-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#lock:Nil-instance-method" class="signature"><strong>#lock</strong> : Nil</a>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>






  <h2>
    <a id="instance-method-detail" class="anchor" href="#instance-method-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Instance Method Detail
  </h2>
  
    <div class="entry-detail" id="lock:Nil-instance-method">
      <div class="signature">
        
        def <strong>lock</strong> : Nil

        <a class="method-permalink" href="#lock:Nil-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/didactic-drunk/fiber_metrics.cr/blob/4bc168f132f59718660eae1eca1cb873051fc2cc/src/fiber_metrics/mutex.cr#L4" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
